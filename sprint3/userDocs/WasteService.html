<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
    pre {
        border: 1px solid black;
        padding: 5px;
        white-space: -moz-pre-wrap;
        /* Mozilla, supported since 1999 */
        white-space: -pre-wrap;
        /* Opera */
        white-space: -o-pre-wrap;
        /* Opera */
        white-space: pre-wrap;
        /* CSS3 â€“ Text module (Candidate Recommendation) http://www.w3.org/TR/css3-text/#white-space */
        word-wrap: break-word;
        /* IE 5.5+ */
        border-radius: 8px;
    }

    pre code {
        padding: 0px;
    }

    pre code .line::before {
        content: counter(line-numbering);
        counter-increment: line-numbering;
        padding-right: .8em;
        /* space after numbers */
        margin-right: 5px;
        width: 1.5em;
        text-align: right;
        opacity: 0.5;
        background-color: #efefef;
    }

    body {
        margin-left: 30px;
        margin-right: 30px;
    }

    ;

    P {
        font-family: Tahoma;
        font-size: 10pt;
    }

    ;

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
        font-size: 93%;
    }

    a:hover {
        background-color: #cccccc;
    }

    dd {
        margin-right: 50px;
        margin-bottom: 7px;
    }

    hr {
        clear: both;
        height: 1px;
        color: #242424;
        background-color: transparent;
    }

    h1,
    h2,
    h3 {
        color: #242424;
        clear: left;
        font: 100% Tahoma, Helvetica, Arial, sans-serif;
        margin-bottom: 0.5em;
        padding-top: 0.5em;
        border-radius: 10px;
        padding: 5px;
    }

    top {
        width: 100%;
    }


    #i {
        color: #ff1010;
    }

    tt {
        font-family: "Arial";
        font-size: 90%;
        color: #006600;
    }

    em {
        font-family: "Arial";
        font-size: 80%;
        font-weight: bold;
        border-style: solid;
        border-color: #abe876;
        color: #1632cc;
    }

    bc {
        font-family: "Arial";
        font-size: 90%;
        font-weight: bold;
        color: #990000;
        background-color: #fcf8c7;
    }

    k {
        font-family: "Arial";
        font-weight: bold;
        color: #930000;
        font-size: 90%;
    }

    ks {
        font-family: "Arial";
        font-weight: bold;
        color: #0000CD;
        font-size: 90%;
    }

    kc {
        font-family: "Arial";
        font-weight: bold;
        color: #008000;
        font-size: 90%;
    }

    ki {
        font-family: "Arial";
        color: #6d6d6d;
        font-weight: bold;
        font-size: 90%;
    }

    kl {
        font-family: "Arial";
        color: #ff21da;
        font-weight: bold;
        font-size: 90%;
    }

    pre {
        font-family: "Consolas";
        font-size: 85%;
        background-color: #f5f5f5;
        border: 1.5px solid silver;
        padding: 5px;
    }

    m {
        font-family: "Helvetica";
        line-height: 100%;
        font-size: 75%;
    }

    div.body {
        font-size: 18px;
    }

    k {
        color: #990000;
        font-weight: bold;
        font-size: 90%;
    }


    h1 {
        font-size: 150%;
        background-color: #b2c0ff;
        padding: 10px;
    }

    h2 {
        background-color: #9ed8ff;
        font-size: 130%;
    }

    h3 {
        background-color: #e6ccff;
        font-size: 100%;
    }

    h4 {
        background-color: #ccffcc;
        font-size: 100%;
        width: 98%;
        border-radius: 5px;
        padding: 5px;
    }

    h5 {
        background-color: #fff1b0;
        font-size: 100%;
        border-radius: 5px;
        padding: 5px;
    }

    ol, ol li {
        margin-left: 30px;
    }

    div.req {
        background-color: #d9ffb3;
        font-size: 18px;
        width: 700px;
        border: 3px solid green;
        padding: 15px;
        margin: 10px;
    }

    div.remark {
        background-color: #E3F2FD;
        border: 1.5px solid #d5f2ed;
        padding: 15px;
        margin: 10px;
        border-radius: 25px;
    }

    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    ol,
    ul,
    li {
        margin: 0;
        margin-left: 10px;
        padding: 0;
        padding-bottom: 5px;
    }

    table,
    th,
    td {
        border: 1px solid black;
    }

    img {
        border: 1.5px solid #d5f2ed
    }

    .noborder {
        border: 1px solid rgba(0, 0, 0, 0);
    }

    a,
    a:visited,
    a:active,
    a:link,
    a:hover {
        text-decoration: underline;
        color: #545454;
        background-color: transparent;
    }

    div.wrapdesc {
        width: 90%;
        margin: auto;
    }

    div.imagedesc {
        width: 85%;
        margin: auto;
    }

    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
    }
</style>

<head>
    <title>Waste Service - Sprint3</title>
</head>

<body>
    <div id="top">
        <h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font>
        </h1>
    </div>

    <div class="body">
        <h2>Introduction</h2>
        <div class="remark">
            <h3>SCRUM goal</h3>
            In the final sprint of the project,<b>Sprint3</b>, we are going to analyze and create the WasteService GUI component.<br/>
            <br/>
            <h4>Raspberry Service</h4>
            <img src="./imgs/systemarchitecturearch_rasp.png" alt="SystemArchRasp" style="width:auto;height:750px;" class="center"><br/> 
            <b>The objectives of this Sprint are:</b>
            <ol><br/>
                <li>
                    <b>Analyze GUI interactions.</b>
                </li>
                <li>
                    <b>Connect the <b>GUI</b> to the system</b>
                </li>
                <li>
                    <b>Implement the <k>GUI</k> updating methods</b>
                </li>
            </ol>          
        </div>

        <h2>Index</h2>
        <div class="remark">
            <a
                href="https://github.com/anatali/issLab2022/blob/main/it.unibo.issLabStart/userDocs/Dispense/lezioni/html/TemaFinale22.html">
                TemaFinale22
            </a>
            <br/>
            <a href="../../sprint0/userDocs/WasteService.html">Sprint0</a>
            <br/>
            <a href="../../sprint1/userDocs/WasteService.html">Sprint1</a>
            <br/>
            <a href="../../sprint2/userDocs/WasteService.html">Sprint2</a>
        </div>

        <h2>Problem analysis</h2>
        <div class="remark">

            <h3>Analysis of possible GUI implementations</h3>

            <k>What type of GUI do we want for our system ?</k><br/>
            <ul>
                <li><b>Application</b></li>
                <li><b>Web-based GUI</b></li>
            </ul>

            <h4>Application</h4>

            This approach guarantees [ROBEEEEE]
            However, this is <b>hardly dependent</b> on the kind of platform/OS of the machine that executes it.

            <h4>Web-based GUI</h4>

            This strategy grants us the ability to be completely intependent from the machine and [prepuzio]
            
            
            <h3>WasteService to GUI communication handling</h3>
            One of the core problems of this sprint is the communication of the system and the GUI as the latter needs to be constantly updated
            by the system.<br/>
            Infact, the only porpouse of the GUI is to receive status updates from the service and show them to the manager.<br/>
            Because of this the only two message types that make logical sense are:
            <ul>
                <li><b>Dispatches</b></li>
                <li><b>Events</b></li>
            </ul>
            As we already discussed in Sprint2, Events are sent to all endpoints in the system and represent additional load on the netework.<br/>
            So Dispatches seem to be the best option.<br/>

            <k>However, after further analysis the team realised that Dispatches require the knowledge of the receiving end of the connection.<br/>
            Which means that they introduce a level of dependency that should be avoided.<br/>
            We will tackle the issue in a separate part of this problem analysis.</k>

            <h3>Update policy</h3>

            <k>How do we know when a gui update is needed ?</k>

            This particular problem is very similar to the sonar and led analysis of Sprint2, in which we had to monitor
            the trolley's behavior to update the state of the system.<br/>
            <br/>
            Consequently, for the same reasons, we decided to use the Observer pattern by implementing CoaP messaging.<br/>


            <br/>
            <h3>Current system architecture</h3>
            <div class="remark" style="background-color: #bec7fe;">
                <img src="./imgs/problem_analisysarch.png" alt="waasteserviceProblemArch" style="width:auto;height:1050px;" class="center">
                </br>
                <a href="../sprint2_problem/src/demo_single_context.qak"><k>demo_single_context.qak</k></a>

                <br/>
                <h5>Test Plans</h5>
                <dd>
                    We have prepared the following tests for this particular model:
                    <ol>
                        <li><a href="../sprint2_problem/test/TestLed.kt"><k>TestLed</k></a>: executes two trolley routines and verfies the required states of the led.</li>
                        <li><a href="../sprint2_problem/test/TestHalt.kt"><k>TestHalt</k></a>: executes a routine and verifies the states of our <ks>pather</ks> actor.</li>
                    </ol>
                </dd>
            </div>
        </div>
        <h2>Project</h2>
        <div class="remark">

            <h3>Current system architecture</h3>
            <div class="remark" style="background-color: #bec7fe;">
                <img src="./imgs/sprint2_projectarch.png" alt="demo" style="width:900px;height:auto;" class="center">
                </br>
                <a href="../sprint2_project/src/demo_project.qak"><k>Demo QAK</k></a>
                <h4>Bug Fixes</h4>
                While testing our system we found that the <ks><i>basicrobot22</i></ks> docker image (which included both the <b>virtual environment</b> and 
                the <b>basicrobot</b> actor) caused some mismatches between the virtual robot and the actual state the trolley inside our system's
                <b>business logic</b>.<br/><br/>

                To solve this issue, we moved the <ks>basicrobot</ks> actor from docker to our <k>ctxtrolley</k> qak context.<br/>
                While the virtual environment would still be running on docker.<br/>
                <br>
                <h5>Test Plans</h5>
                <dd>
                    We have prepared the following tests for this particular model:
                    <ol>
                        <li><a href="../sprint2_project/test/IntegrationTestLed.kt"><k>IntegrationTestLed.kt</k></a>: Integration testing to ensure the correct behavior of the led inside the system using CoaP.</li>
                        <li><a href="../sprint2_project/test/IntegrationTestLedHalt.kt"><k>IntegrationTestLedHalt.kt</k></a>: Integration testing to ensure the correct behavior of the halt procedure inside the system using CoaP.</li>
                        <li><a href="../sprint2_project/test/UnitTestLed.kt"><k>UnitTestLed.kt</k></a>: Specifically sends <i>updateLed(STATE)</i> messages to the led and verifies its status.</li>
                    </ol>
                </dd>
            </div>
        </div>

        <h2>Work plan</h2>
        <div class="remark">
            <kc>Sprint 2</kc> was focused on the implementation of the <b>raspberry</b> segment, it's interaction with
            the <b>waste service</b> and the distribution of the whole system.<br/>
            In <kc>Sprint 3</kc> we aim to complete the project implementing the <b>WasteServiceStatusGUI</b>.<br/>
            
            SCRUM Goal:
            <ol>
                <li>Realize the <b>GUI</b></li>
                <li>Connect the <b>GUI</b> to the system</li>
                <li>Implement the <k>GUI</k> updating methods</li>
            </ol>

            <h5>Next Sprint: <kc href=""><kc>Sprint 3</kc></a></h5>
        </div>
      
        <h2>Task assignment</h2>
        <div class="remark">
            <table class="center">
                <tr>
                    <th>Task</th>
                    <th>Description</th>
                    <th>Developers</th>
                </tr>
                <tr>
                    <td><center>Implementing the Halt behavior</center></td>
                    <td>Modifying the existing Qak actors and making new ones to achieve the Halt behaviour.</td>
                    <td><center>Federico Andrucci</center></td>
                </tr>
                <tr>
                    <td><center>Sonar developement</center></td>
                    <td>Creating the CodedActors, Qak actor and the pipe.</td>
                    <td><center>Gabriele Marconi</center></td>
                </tr>
                <tr>
                    <td><center>Led developement</center></td>
                    <td>Implementing the Qak actor and the LedUtils wrapper.</td>
                    <td><center>Alex Gianelli</center></td>
                </tr>
                <tr>
                    <td><center>System Distribution</center></td>
                    <td>Creating the .jar files and distributing the system.</td>
                    <td><center>Gabriele Marconi,<br/>Alex Gianelli,<br/>Federico Andrucci</center></td>
                </tr>
                <tr>
                    <td><center>Halt Testing</center></td>
                    <td>Creating test routines for the halt behaviour.</td>
                    <td><center>Federico Andrucci</center></td>
                </tr>
                <tr>
                    <td><center>Led Testing</center></td>
                    <td>Creating test routines for the led actor.</td>
                    <td><center>Alex Gianelli</center></td>
                </tr>
                <tr>
                    <td><center>Distribution Testing</center></td>
                    <td>Testing different methods of distribution.</td>
                    <td><center>Gabriele Marconi</center></td>
                </tr>
            </table>
        </div>

    </div>

    <!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->

    <br /><br />
    </div>

    <div style="background-color:rgba(185, 180, 215, 0.9); width:100%;text-align:center;color:white">
        By <a href="https://github.com/TeamFAG/ISS-WasteService">TeamFAG</a>: <br />
        <a href="https://github.com/Federicoand98">federico.andrucci@studio.unibo.it</a>,<br />
        <a href="https://github.com/Noesh">alex.gianelli@live.it</a>,<br />
        <a href="https://github.com/Stikinit">gabriele.marconi@studio.unibo.it</a>,<br />

        <br />

        <table class="noborder">
            <tr class="noborder">
                <th class="noborder">
                    Federico Andrucci
                </th>
                <th class="noborder">
                    Alex Gianelli
                </th>
                <th class="noborder">
                    Gabriele Marconi
                </th>
            </tr>
            <tr class="noborder">
                <td class="noborder">
                    <img src="./imgs/federico-andrucci.jpg" alt="f" style="width:300;height:auto;" class="center">
                </td>
                <td class="noborder">
                    <img src="./imgs/alex-gianelli.jpg" alt="a" style="width:300;height:auto;" class="center">
                </td>
                <td class="noborder">
                    <img src="./imgs/gabriele-marconi.jpg" alt="g" style="width:300;height:auto;" class="center">
                </td>
            </tr>
        </table>
    </div>
</body>

</html>